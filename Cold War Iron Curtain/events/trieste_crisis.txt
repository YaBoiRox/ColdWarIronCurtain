add_namespace = YUG_trieste_crisis
add_namespace = YUG_trieste
add_namespace = ITA_trieste
add_namespace = ITA_koper
add_namespace = YUG_koper



#trieste crisis


country_event = {
	id = YUG_trieste_crisis.1
	
	immediate = {
		log = "[GetDateText]: [Root.GetTag]: id = YUG_trieste_crisis.1"
	}
	
	title = "Italian Fascists Forcefully Annex Trieste!"
	
	desc = YUG_trieste_crisis.1.d
	
	picture = GFX_Yugov_1
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = "Unacceptable! Send the Army Immediately!"	
	YUG = {	
		transfer_state = 1673
	}
		
	start_border_war = {
   
    change_state_after_war = no
    
	attacker = {  #yugoslavia 
        	state = 1673
        	num_provinces = 1
        	on_win = YUG_trieste.1  #yugoslavia annexes Trieste
        	on_lose = YUG_trieste.2  #italy annexes trieste, removes Yugo core
        	on_cancel = YUG_trieste.3  #Italy keeps trieste
    }	
	
	defender = { #italy 
			state = 756
				num_provinces = 1
				on_win = ITA_trieste.1 # italy annexes trieste, removes yugo core, can invade Koper
				on_lose = ITA_trieste.2 #yugo annexes trieste, removes ita core
				on_cancel = ITA_trieste.3 #keeps trieste, cant advance to Koper
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = YUG_trieste_crisis.2
	
	immediate = {
		log = "[GetDateText]: [Root.GetTag]: id = YUG_trieste_crisis.2"
	}
	
	title = "Italian Fascists Advance to Koper!"
	
	desc = YUG_trieste_crisis.2.d
	
	picture = GFX_Yugov_1
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = "Not Again! Send the Army Immediately!"	
	YUG = {	
		transfer_state = 1673
	}
		
	start_border_war = {
   
    change_state_after_war = no
    
	attacker = {  #Italy 
        	state = 1673
        	num_provinces = 1
        	on_win = ITA_koper.1  #Italy annexes Koper
        	on_lose = ITA_koper.2  #italy keeps trieste, removes Yugo core on trieste and Koper
        	on_cancel = ITA_koper.2  #Italy keeps trieste removes ita core on koper 
    }	
	
	defender = { #Yugoslavia 
			state = 1673
				num_provinces = 1
				on_win = YUG_koper.1 # keeps koper, removes italy core
				on_lose = YUG_koper.2 #italy annexes koper, removes yugo core
				on_cancel = YUG_koper.2 #yugo keeps koper, remove italy core
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

country_event = {
	id = YUG_trieste.1 #yugo annexes trieste 
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = YUG_trieste.1"}
	title = "Victory over the Italian Army!"
	desc = YUG_trieste.1.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Smrt Fa≈°izmu "
		YUG = { transfer_state = 756 }
		756 = {
			remove_core_of = ITA
			add_state_claim	= ITA
			add_core_of = YUG	
		}
	}
}

country_event = {
	id = YUG_trieste.2 #yugo loses trieste 
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = YUG_trieste.2"}
	title = "The Italian Army Secures Trieste!"
	desc = YUG_trieste.2.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Impossible!"
		set_global_flag = ita_annexed_trieste
		756 = {
			remove_core_of = YUG
			add_state_claim	= YUG
		}
	}
}

country_event = {
	id = YUG_trieste.3 #ita annexes trieste but cant invade Koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = YUG_trieste.3"}
	title = "The Italian Army Secures Trieste!"
	desc = YUG_trieste.3.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Impossible!"
		756 = {
			add_state_claim	= YUG
		}
	}
}

country_event = {
	id = ITA_trieste.1 #ita annexes trieste and advances to koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = ITA_trieste.1"}
	title = "Victory Against The Titoist Regime!"
	desc = ITA_trieste.1.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Amazing, Onwards to Capodistria!"
		set_country_flag = ITA_won_trieste
	}
}

country_event = {
	id = ITA_trieste.2 #ita annexes trieste and advances to koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = ITA_trieste.2"}
	title = "Trieste Lost! The Titoists Annex Trieste"
	desc = ITA_trieste.2.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Impossible!"
	}
}

country_event = {
	id = ITA_trieste.3 #ita annexes trieste and advances to koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = ITA_trieste.3"}
	title = "Trieste Lost! The Titoists Annex Trieste"
	desc = ITA_trieste.3.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Impossible!"
	}
}

country_event = {
	id = ITA_koper.1 #ita annexes trieste and advances to koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = ITA_koper.1"}
	title = "The Final Victory Against Tito, Capodistria is ours!"
	desc = ITA_koper.1.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "D'Annunzio Would be Proud!"
		1673 = {
			remove_core_of = YUG
			add_state_claim = YUG
			remove_core_of = TRS
		}
	}
}


country_event = {
	id = ITA_koper.2 #ita annexes trieste and cant take Koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = ITA_koper.2"}
	title = "Tragedy in Capodistria, an Unexpected Defeat!"
	desc = ITA_koper.2.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Horrible!"
		1673 = {
			remove_core_of = ITA
			add_state_claim = ITA
			remove_core_of = TRS
		}
	}
}



country_event = {
	id = YUG_koper.1 #Yugo keeps koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = YUG_koper.1"}
	title = "Victory in Koper, an Unexpected Result!"
	desc = YUG_koper.1.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Horrible!"
		1673 = {
			remove_core_of = ITA
			add_state_claim = ITA
			remove_core_of = TRS
		}
	}
}

country_event = {
	id = YUG_koper.2 #Yugo keeps koper
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = YUG_koper.2"}
	title = "Tragedy in Koper, another Defeat!"
	desc = YUG_koper.2.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "Horrible!"
		1673 = {
			remove_core_of = YUG
			add_state_claim = YUG
			remove_core_of = TRS
		}
	}
}


country_event = {
	id = ITA_trieste.5 #test event
	immediate = {log = "[GetDateText]: [Root.GetTag]: id = ITA_trieste.5"}
	title = "Test Event"
	desc = ITA_trieste.5.d
	#picture = 

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = "I Hate this shit!"
		set_country_flag = ITA_YUG_war
		set_global_flag = trieste_crisis
	}
}