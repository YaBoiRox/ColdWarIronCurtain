scripted_gui = {
	#中央委员会系统
	PRC_CCCPC_gui = {
		context_type = player_context
		window_name = "PRC_CCCPC_gui"
		visible = {
			original_tag = PRC
			check_variable = { 
				var = CPC_PB_GUI_VISIBLE 
				value = 1 
			    compare = equals
			}
			#has_country_flag = PRC_Founding_of_New_China_flag
			any_of = {
				array = country_politics_list
				value = v
				index = i
				check_variable = { v = 51 }
			}
			#is_in_array = {
			#	array = country_politics_list
			#	value = 51
			#}
		}

		dynamic_lists = {
			CCCPC_leaders_grid = {
				array = PRC_CCCPC_leaders_array
				index = temp_i
				value = temp_v
				entry_container = CCCPC_leaders_entry
			}
			CCCPC_Political_Bureau_grid = {
				array = PRC_CCCPC_Political_Bureau_array
				index = temp_i
				value = temp_v
				entry_container = CCCPC_Political_Bureau_entry
			}
			CCCPC_leaders_influence_grid = {
				array = PRC_CCCPC_leaders_array
				index = temp_i
				value = temp_v
                entry_container = CCCPC_leaders_influence_entry
			}
		}
		properties = {
			PRC_CCCPC_gui_title = { image = "[Get_CCCPC_gui_title]" }
			CCCPC_leaders_portrait = { image = "[Get_CCCPC_leaders_portrait]" }
			CCCPC_leaders_influence_pie_chart = {
				image = "GFX_PRC_CCCPC_leaders_influence_pie_chart_[?temp_v]"
				frame = PRC_CCCPC_leaders_influence_gui_array^temp_i
			}
			CCCPC_party_discipline_progress_bar = { frame = PRC_party_discipline }
			CCCPC_party_unity_progress_bar = { frame = PRC_party_unity }
		}
		effects = {
			PRC_CCCPC_gui_close_button_click = {
				set_variable = { CPC_PB_GUI_VISIBLE = 0 }
			}
		}
	}

	#旧政治局系统
	PRC_faction_struggle_system_gui = {
		context_type = player_context
		window_name = "PRC_faction_struggle_system_gui"
		visible = {
			original_tag = PRC
			check_variable = { 
				var = CPC_PB_GUI_VISIBLE 
				value = 1 
			    compare = equals
			}
			has_country_flag = PRC_Founding_of_New_China_flag
			any_of = {
				array = country_politics_list
				value = v
				index = i
				check_variable = { v = 51 }
			}
			#is_in_array = {
			#	array = country_politics_list
			#	value = 51
			#}
			always = no
		}

		dynamic_lists = {
			PRC_faction_struggle_system_faction_influence_grid = {
				array = PRC_faction_struggle_system_faction_influence
				index = temp_x
				value = temp_y
				entry_container = PRC_faction_struggle_system_faction_influence_entry
			}
			PRC_faction_struggle_system_faction_party_support_pie_grid = {
				array = PRC_faction_struggle_system_faction_party_support_frame
				index = temp_x
				value = temp_y
				entry_container = PRC_faction_struggle_system_faction_pie_entry
			}
			PRC_faction_struggle_system_faction_gov_support_pie_grid = {
				array = PRC_faction_struggle_system_faction_gov_support_frame
				index = temp_x
				value = temp_y
				entry_container = PRC_faction_struggle_system_faction_pie_entry
			}
			PRC_faction_struggle_system_faction_army_support_pie_grid = {
				array = PRC_faction_struggle_system_faction_army_support_frame
				index = temp_x
				value = temp_y
				entry_container = PRC_faction_struggle_system_faction_pie_entry
			}
			PRC_faction_struggle_system_faction_supporter_0_grid = {
				array = PRC_faction_struggle_system_faction_supporter_0
				value = temp_i
				entry_container = PRC_faction_struggle_system_faction_supporter_0_entry
			}
			PRC_faction_struggle_system_faction_supporter_1_grid = {
				array = PRC_faction_struggle_system_faction_supporter_1
				value = temp_i
				entry_container = PRC_faction_struggle_system_faction_supporter_1_entry
			}
			PRC_faction_struggle_system_faction_supporter_2_grid = {
				array = PRC_faction_struggle_system_faction_supporter_2
				value = temp_i
				entry_container = PRC_faction_struggle_system_faction_supporter_2_entry
			}
			PRC_faction_struggle_system_faction_supporter_3_grid = {
				array = PRC_faction_struggle_system_faction_supporter_3
				value = temp_i
				entry_container = PRC_faction_struggle_system_faction_supporter_3_entry
			}
			PRC_faction_struggle_system_faction_supporter_4_grid = {
				array = PRC_faction_struggle_system_faction_supporter_4
				value = temp_i
				entry_container = PRC_faction_struggle_system_faction_supporter_4_entry
			}
		}

		triggers = {
			PRC_faction_struggle_system_faction_supporter_0_info_visible = {
				check_variable = { temp_x = 0 }
			}
			PRC_faction_struggle_system_faction_supporter_1_info_visible = {
				check_variable = { temp_x = 1 }
			}
			PRC_faction_struggle_system_faction_supporter_2_info_visible = {
				check_variable = { temp_x = 2 }
			}
			PRC_faction_struggle_system_faction_supporter_3_info_visible = {
				check_variable = { temp_x = 3 }
			}
			PRC_faction_struggle_system_faction_supporter_4_info_visible = {
				check_variable = { temp_x = 4 }
			}
		}

		properties = {
			PRC_faction_struggle_system_faction_infl_bar = {
				frame = temp_y
			}
			GFX_PRC_faction_struggle_system_faction_pie = {
				frame = temp_y
				image = "GFX_PRC_faction_struggle_system_faction_pie_[?temp_x]"
			}
			PRC_faction_struggle_system_party_united_bar = {
				frame = PRC_faction_struggle_system_party_united
			}
			PRC_faction_struggle_system_party_discipline_bar = {
				frame = PRC_faction_struggle_system_party_discipline
			}
		}
		
		effects = {
			close_button_click = {
				set_variable = { 
					var = CPC_PB_GUI_VISIBLE 
					value = 0 
				}
			}
		}
	}

	PRC_Classes_And_Strata_GUI = {
		context_type = decision_category
		window_name = "PRC_Classes_And_Strata_GUI_Window"
		visible = {
			original_tag = PRC
			has_country_flag = PRC_Founding_of_New_China_flag
			has_country_flag = PRC_Pop_visible_flag
		}
		
		dynamic_lists = {
			PRC_Major_Pop_Grid = {
				array = PRC_Major_Pop
				entry_container = PRC_Major_Pop_Grid_Entry
				index = PRC_Pop_idx
				change_scope = no
			}
			PRC_Ordinary_Pop_Grid = {
				array = PRC_Ordinary_Pop
				entry_container = PRC_Ordinary_Pop_Grid_Entry
				index = PRC_Pop_idx
				change_scope = no
			}
			PRC_Marginalized_Pop_Grid = {
				array = PRC_Marginalized_Pop
				entry_container = PRC_Marginalized_Pop_Grid_Entry
				index = PRC_Pop_idx
				change_scope = no
			}
		}

		properties = {
			PRC_Major_Pop_Picture = {
				frame = PRC_Major_Pop^PRC_Pop_idx
			}
			PRC_Ordinary_Pop_Picture = {
				frame = PRC_Ordinary_Pop^PRC_Pop_idx
			}
			PRC_Marginalized_Pop_Picture = {
				frame = PRC_Marginalized_Pop^PRC_Pop_idx
			}
			PRC_Party_s_Authority_progress_bar = {
                frame = PRC_Party_s_Authority_frame
			}
		}

		effects = {
			
		}
	}
}